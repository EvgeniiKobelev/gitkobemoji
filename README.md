# GITKOBEMOJI
========

Улучшенные Git-коммиты с использованием ИИ
------------------------------------------

GITKOBEMOJI - это мощный инструмент на базе ИИ, разработанный для улучшения вашего рабочего процесса с Git. Он предлагает несколько ключевых функций:

1. Генерация сообщений коммитов: Анализирует изменения в вашем коде (diff) и генерирует подробные сообщения коммитов, предоставляя детальный контекст для каждого коммита.

2. Оценка изменений кода: Оценивает влияние и качество ваших изменений в коде, предлагая инсайты о внесенных модификациях.

3. Украшение эмодзи: Автоматически добавляет релевантные эмодзи к вашим коммитам, предоставляя визуальные подсказки, которые облегчают понимание характера каждого изменения с первого взгляда.

Этот многофункциональный подход превращает историю ваших коммитов в более информативный, содержательный и визуально привлекательный журнал разработки вашего проекта. Используя ИИ для генерации, оценки и украшения ваших коммитов, GITKOBEMOJI помогает поддерживать четкую и осмысленную запись эволюции вашего проекта.

## Как это работает

1. Когда вы делаете коммит, GITKOBEMOJI перехватывает сообщение коммита с помощью Git-хука. Таким образом, он работает со всеми git-клиентами и IDE, использующими git-хуки.
2. Сообщение коммита и diff отправляются в пользовательский скрипт (`gpt.sh`), который взаимодействует с API OpenAI.
3. API, используя модель llama3.1, анализирует сообщение коммита и diff, и обновляет сообщение коммита.
4. Предложенный эмодзи добавляется в начало вашего исходного сообщения коммита.
5. ИИ генерирует сообщение коммита на основе изменений в diff, которое добавляется в конец исходного сообщения коммита.
6. Рейтинг сообщения коммита добавляется в конец сообщения коммита.
7. Процесс учитывает любой существующий префикс в ваших сообщениях коммитов, как определено переменной окружения GITKOBEMOJI_PREFIX_RX.

Этот процесс происходит бесшовно, не требуя дополнительных действий от пользователя после первоначальной настройки.

## Как использовать

1. Добавьте ~ в конец вашего сообщения коммита, чтобы ИИ обновил сообщение коммита и добавил к нему эмодзи.
2. Добавьте ~~ в конец вашего сообщения коммита, чтобы ИИ обновил сообщение коммита на основе diff.
3. Добавьте ~~~ в конец вашего сообщения коммита, чтобы ИИ обновил сообщение коммита и добавил эмодзи.
4. Добавьте * в качестве последнего символа вашего сообщения коммита, чтобы ИИ добавил рейтинг в конец сообщения коммита.
5. Используйте комбинации, такие как ~~~* или ~~* или ~*, чтобы ИИ обновил коммит соответствующим образом.

## Установка с помощью однострочного мастера

Просто выполните:

Перейдите в директорию вашего проекта и выполните:
```
curl -o install.sh https://raw.githubusercontent.com/EvgeniiKobelev/gitkobemoji/main/install.sh && bash install.sh && rm install.sh
```
и следуйте инструкциям.

## Установка вручную

- Установите jq
```
brew install jq
```
или
```
apt-get install jq
```

- Скачайте `prepare-commit-msg.sh` и `gpt.sh`

- Добавьте переменные окружения в файл `.env` или создайте файл `.gitkobemoji.env`:

```
GITKOBEMOJI_API_BASE_URL="http://localhost:11434/api"
GITKOBEMOJI_API_MODEL="llama3.1"
```

> ❗ Обратите внимание: 
> - GITKOBEMOJI_API_BASE_URL является необязательным и по умолчанию установлен на http://localhost:11434/api
> - GITKOBEMOJI_API_MODEL является необязательным и по умолчанию установлен на llama3.1

- убедитесь, что файлы `prepare-commit-msg.sh` и `gpt.sh` имеют права на выполнение

- переименуйте `prepare-commit-msg.sh` в `prepare-commit-msg`

- поместите `prepare-commit-msg`, `gpt.sh` и `.gitkobemoji.env` в `.git/hooks/`

## Использование

Просто пишите свои сообщения коммитов как обычно. GITKOBEMOJI автоматически добавит соответствующие эмодзи к вашим коммитам.

## Примеры

Посмотрите [сообщения коммитов](https://github.com/EvgeniiKobelev/gitkobemoji/commits/main/) в этом репозитории

## Установка и запуск Ollama 3.1 на локальном компьютере

Для использования GITKOBEMOJI с локальной моделью Ollama 3.1, выполните следующие шаги:

1. Установите Ollama:
   - Для macOS:
     ```
     brew install ollama
     ```
   - Для Linux:
     ```
     curl -fsSL https://ollama.com/install.sh | sh
     ```

2. Запустите Ollama:
   ```
   ollama serve
   ```

3. Загрузите модель (например, llama2):
   ```
   ollama pull llama3.1
   ```

4. Обновите переменную окружения в вашем файле `.gitkobemoji.env`:
   ```
   GITKOBEMOJI_API_BASE_URL="http://localhost:11434/api"
   GITKOBEMOJI_API_MODEL="llama3.1"
   ```

5. Теперь GITKOBEMOJI будет использовать локальную модель Ollama вместо OpenAI API.
